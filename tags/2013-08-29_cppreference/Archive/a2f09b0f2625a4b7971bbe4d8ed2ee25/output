main.cpp: In member function 'std::future<typename std::result_of<F(T&)>::type> Shared<T>::execute(F)':
main.cpp:41:13: error: expected ')' before '}' token
main.cpp:41:14: error: expected ',' or ';' before ')' token
main.cpp: In instantiation of 'std::future<typename std::result_of<F(T&)>::type> Shared<T>::execute(F) [with F = main()::<lambda(Car&)>; T = Car; typename std::result_of<F(T&)>::type = unsigned int]':
main.cpp:86:68:   required from here
main.cpp:41:13: error: no matching function for call to 'std::packaged_task<void()>::packaged_task(<brace-enclosed initializer list>)'
main.cpp:41:13: note: candidates are:
In file included from main.cpp:5:0:
/usr/include/c++/4.7/future:1348:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, std::packaged_task<_Res(_ArgTypes ...)>&&)
/usr/include/c++/4.7/future:1348:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1343:7: note: std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::packaged_task<_Res(_ArgTypes ...)>&&) [with _Res = void; _ArgTypes = {}; std::packaged_task<_Res(_ArgTypes ...)> = std::packaged_task<void()>]
/usr/include/c++/4.7/future:1343:7: note:   no known conversion for argument 1 from '<type error>' to 'std::packaged_task<void()>&&'
/usr/include/c++/4.7/future:1339:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, const std::packaged_task<_Res(_ArgTypes ...)>&) <deleted>
/usr/include/c++/4.7/future:1339:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1322:9: note: template<class _Fn, class _Allocator, class> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, _Fn&&)
/usr/include/c++/4.7/future:1322:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1315:9: note: template<class _Fn, class> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(_Fn&&)
/usr/include/c++/4.7/future:1315:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1309:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&)
/usr/include/c++/4.7/future:1309:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1305:7: note: std::packaged_task<_Res(_ArgTypes ...)>::packaged_task() [with _Res = void; _ArgTypes = {}]
/usr/include/c++/4.7/future:1305:7: note:   candidate expects 0 arguments, 1 provided
main.cpp:42:9: warning: no return statement in function returning non-void [-Wreturn-type]
main.cpp: In instantiation of 'std::future<typename std::result_of<F(T&)>::type> Shared<T>::execute(F) [with F = main()::<lambda(Car&)>; T = Car; typename std::result_of<F(T&)>::type = unsigned int]':
main.cpp:87:68:   required from here
main.cpp:41:13: error: no matching function for call to 'std::packaged_task<void()>::packaged_task(<brace-enclosed initializer list>)'
main.cpp:41:13: note: candidates are:
In file included from main.cpp:5:0:
/usr/include/c++/4.7/future:1348:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, std::packaged_task<_Res(_ArgTypes ...)>&&)
/usr/include/c++/4.7/future:1348:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1343:7: note: std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::packaged_task<_Res(_ArgTypes ...)>&&) [with _Res = void; _ArgTypes = {}; std::packaged_task<_Res(_ArgTypes ...)> = std::packaged_task<void()>]
/usr/include/c++/4.7/future:1343:7: note:   no known conversion for argument 1 from '<type error>' to 'std::packaged_task<void()>&&'
/usr/include/c++/4.7/future:1339:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, const std::packaged_task<_Res(_ArgTypes ...)>&) <deleted>
/usr/include/c++/4.7/future:1339:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1322:9: note: template<class _Fn, class _Allocator, class> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, _Fn&&)
/usr/include/c++/4.7/future:1322:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1315:9: note: template<class _Fn, class> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(_Fn&&)
/usr/include/c++/4.7/future:1315:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1309:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&)
/usr/include/c++/4.7/future:1309:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1305:7: note: std::packaged_task<_Res(_ArgTypes ...)>::packaged_task() [with _Res = void; _ArgTypes = {}]
/usr/include/c++/4.7/future:1305:7: note:   candidate expects 0 arguments, 1 provided
main.cpp:42:9: warning: no return statement in function returning non-void [-Wreturn-type]
main.cpp: In instantiation of 'std::future<typename std::result_of<F(T&)>::type> Shared<T>::execute(F) [with F = main()::<lambda(Car&)>; T = Car; typename std::result_of<F(T&)>::type = unsigned int]':
main.cpp:88:68:   required from here
main.cpp:41:13: error: no matching function for call to 'std::packaged_task<void()>::packaged_task(<brace-enclosed initializer list>)'
main.cpp:41:13: note: candidates are:
In file included from main.cpp:5:0:
/usr/include/c++/4.7/future:1348:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, std::packaged_task<_Res(_ArgTypes ...)>&&)
/usr/include/c++/4.7/future:1348:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1343:7: note: std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::packaged_task<_Res(_ArgTypes ...)>&&) [with _Res = void; _ArgTypes = {}; std::packaged_task<_Res(_ArgTypes ...)> = std::packaged_task<void()>]
/usr/include/c++/4.7/future:1343:7: note:   no known conversion for argument 1 from '<type error>' to 'std::packaged_task<void()>&&'
/usr/include/c++/4.7/future:1339:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, const std::packaged_task<_Res(_ArgTypes ...)>&) <deleted>
/usr/include/c++/4.7/future:1339:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1322:9: note: template<class _Fn, class _Allocator, class> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, _Fn&&)
/usr/include/c++/4.7/future:1322:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1315:9: note: template<class _Fn, class> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(_Fn&&)
/usr/include/c++/4.7/future:1315:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1309:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&)
/usr/include/c++/4.7/future:1309:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1305:7: note: std::packaged_task<_Res(_ArgTypes ...)>::packaged_task() [with _Res = void; _ArgTypes = {}]
/usr/include/c++/4.7/future:1305:7: note:   candidate expects 0 arguments, 1 provided
main.cpp:42:9: warning: no return statement in function returning non-void [-Wreturn-type]
main.cpp: In instantiation of 'std::future<typename std::result_of<F(T&)>::type> Shared<T>::execute(F) [with F = Shared<T>::~Shared() [with T = Car]::<lambda(Car&)>; T = Car; typename std::result_of<F(T&)>::type = int]':
main.cpp:30:9:   required from 'Shared<T>::~Shared() [with T = Car]'
main.cpp:85:17:   required from here
main.cpp:41:13: error: no matching function for call to 'std::packaged_task<void()>::packaged_task(<brace-enclosed initializer list>)'
main.cpp:41:13: note: candidates are:
In file included from main.cpp:5:0:
/usr/include/c++/4.7/future:1348:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, std::packaged_task<_Res(_ArgTypes ...)>&&)
/usr/include/c++/4.7/future:1348:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1343:7: note: std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::packaged_task<_Res(_ArgTypes ...)>&&) [with _Res = void; _ArgTypes = {}; std::packaged_task<_Res(_ArgTypes ...)> = std::packaged_task<void()>]
/usr/include/c++/4.7/future:1343:7: note:   no known conversion for argument 1 from '<type error>' to 'std::packaged_task<void()>&&'
/usr/include/c++/4.7/future:1339:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, const std::packaged_task<_Res(_ArgTypes ...)>&) <deleted>
/usr/include/c++/4.7/future:1339:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1322:9: note: template<class _Fn, class _Allocator, class> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&, _Fn&&)
/usr/include/c++/4.7/future:1322:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1315:9: note: template<class _Fn, class> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(_Fn&&)
/usr/include/c++/4.7/future:1315:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1309:9: note: template<class _Allocator> std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(std::allocator_arg_t, const _Allocator&)
/usr/include/c++/4.7/future:1309:9: note:   template argument deduction/substitution failed:
/usr/include/c++/4.7/future:1305:7: note: std::packaged_task<_Res(_ArgTypes ...)>::packaged_task() [with _Res = void; _ArgTypes = {}]
/usr/include/c++/4.7/future:1305:7: note:   candidate expects 0 arguments, 1 provided
main.cpp:42:9: warning: no return statement in function returning non-void [-Wreturn-type]
In file included from main.cpp:1:0:
/usr/include/tbb/concurrent_queue.h: In instantiation of 'void tbb::concurrent_bounded_queue<T, A>::copy_item(tbb::internal::concurrent_queue_base_v3::page&, std::size_t, const void*) [with T = std::packaged_task<void()>; A = tbb::cache_aligned_allocator<std::packaged_task<void()> >; std::size_t = long unsigned int]':
main.cpp:90:1:   required from here
/usr/include/tbb/concurrent_queue.h:189:9: error: use of deleted function 'std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(const std::packaged_task<_Res(_ArgTypes ...)>&) [with _Res = void; _ArgTypes = {}; std::packaged_task<_Res(_ArgTypes ...)> = std::packaged_task<void()>]'
In file included from main.cpp:5:0:
/usr/include/c++/4.7/future:1334:7: error: declared here
In file included from main.cpp:1:0:
/usr/include/tbb/concurrent_queue.h: In instantiation of 'void tbb::concurrent_bounded_queue<T, A>::assign_and_destroy_item(void*, tbb::internal::concurrent_queue_base_v3::page&, std::size_t) [with T = std::packaged_task<void()>; A = tbb::cache_aligned_allocator<std::packaged_task<void()> >; std::size_t = long unsigned int]':
main.cpp:90:1:   required from here
/usr/include/tbb/concurrent_queue.h:199:9: error: use of deleted function 'std::packaged_task<_Res(_ArgTypes ...)>& std::packaged_task<_Res(_ArgTypes ...)>::operator=(const std::packaged_task<_Res(_ArgTypes ...)>&) [with _Res = void; _ArgTypes = {}; std::packaged_task<_Res(_ArgTypes ...)> = std::packaged_task<void()>]'
In file included from main.cpp:5:0:
/usr/include/c++/4.7/future:1335:22: error: declared here
In file included from main.cpp:1:0:
/usr/include/tbb/concurrent_queue.h: In instantiation of 'void tbb::concurrent_bounded_queue<T, A>::copy_page_item(tbb::internal::concurrent_queue_base_v3::page&, std::size_t, const tbb::internal::concurrent_queue_base_v3::page&, std::size_t) [with T = std::packaged_task<void()>; A = tbb::cache_aligned_allocator<std::packaged_task<void()> >; std::size_t = long unsigned int]':
main.cpp:90:1:   required from here
/usr/include/tbb/concurrent_queue.h:193:9: error: use of deleted function 'std::packaged_task<_Res(_ArgTypes ...)>::packaged_task(const std::packaged_task<_Res(_ArgTypes ...)>&) [with _Res = void; _ArgTypes = {}; std::packaged_task<_Res(_ArgTypes ...)> = std::packaged_task<void()>]'
In file included from main.cpp:5:0:
/usr/include/c++/4.7/future:1334:7: error: declared here
