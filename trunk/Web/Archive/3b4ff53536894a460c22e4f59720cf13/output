main.cpp:4:18: error: specialization of ‘template<class T> class foo’ must appear at namespace scope
main.cpp:4:24: error: partial specialization ‘foo<U>’ declared ‘friend’
