+ g++ -std=c++11 -O2 -Wall -pedantic -pthread main.cpp
+ ./a.out
main.cpp:89: buf.read_available() == 0u => OK!
main.cpp:90: buf.write_available() == 8u => OK!
main.cpp:98: buf.read_available() == num_written => OK!
main.cpp:103: num_read == num_written => OK!
0
8
