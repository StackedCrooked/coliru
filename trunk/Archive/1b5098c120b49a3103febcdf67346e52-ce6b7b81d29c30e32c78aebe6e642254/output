+ clang++ -std=c++11 -O2 -pthread main.cpp
+ ./a.out
StaticImpl::do_fun()
StaticImpl::do_fun()
DynamicImpl::do_fun()
DynamicImpl::do_fun()
