main.cpp:7:16: error: invalid use of 'this' outside of a non-static member function
        typeid(this);
               ^
main.cpp:8:45: error: invalid use of 'this' outside of a non-static member function
        static_assert(std::is_same<decltype(this),A*>(), "");
                                            ^
2 errors generated.
