<!DOCTYPE html>
<html>
<head>
    <style>
        html {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-box-align: stretch;
            position: relative;
            font-family: monospace;
            width: 96%;
            height: 96%;
        }

        body {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-box-align: center;
            position: relative;
            width: 100%;
            height: 100%;
        }

        #page {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-box-align: stretch;
            -webkit-box-flex: 1.0;
            -moz-box-flex: 1.0;
            -box-flex: 1.0;
            height: 100%;
            width: 100%;
        }

        #editor {
            display: -webkit-box;
            -webkit-box-flex: 1.0;
            -moz-box-flex: 1.0;
            -box-flex: 1.0;
            position: relative;
            width: 100%;
            height: 50%;
            resize: none;
            margin-bottom: 4px;
        }

        #output {
            display: -webkit-box;
            -webkit-box-flex: 1.0;
            -moz-box-flex: 1.0;
            -box-flex: 1.0;
            position: relative;
            width: 100%;
            height: 50%;
            resize: none;
            border-style: ridge;
        }
    </style>

</head>
<body>
<div id="page">
    <div id="editor"></div>
    <div id="output"></div>
</div>


<script src="http://d1n0x3qji82z53.cloudfront.net/src-min-noconflict/ace.js" type="text/javascript"></script>
<script>

    window.onload = function () {
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/textmate");
        editor.getSession().setMode("ace/mode/c_cpp");
        editor.setBehavioursEnabled(false);
        editor.setReadOnly(true);

        Element.prototype.createChild = function (tagNamePath) {
            "use strict";
            var result = this;
            var tagNames = tagNamePath.split("/");
            for (var i = 0; i < tagNames.length; ++i) {
                var child = document.createElement(tagNames[i]);
                result.appendChild(child);
                result = child;
            }
            return result;
        };

        var http_get = function (url) {
            var x = new XMLHttpRequest();
            x.open("GET", url, false);
            x.send(null);
            return x.responseText;
        };


        String.prototype.trim = function () {
            return this.replace(/^\s+|\s+$/g, "");
        };


        var loc = "Archive/" + window.location.search.split('=')[1] + "/";
        var result = http_get(loc + "output.txt").trim();
        editor.setValue(http_get(loc + "main.cpp"));
        editor.clearSelection();
        document.getElementById("output").innerText = result;
    };
</script>


</body>
</html>
