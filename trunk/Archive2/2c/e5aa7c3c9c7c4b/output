+ g++-4.8 -std=c++11 -O2 -Wall -pedantic -pthread main.cpp
+ ./a.out
Producer sets value to 10
Consumer thread 1...now is in control: 10
Producer sets value to 9
Consumer thread 2...now is in control: 9
Producer sets value to 8
Consumer thread 1...now is in control: 8
Producer sets value to 7
Consumer thread 1...now is in control: 7
Producer sets value to 6
Consumer thread 1...now is in control: 6
Producer sets value to 5
Consumer thread 1...now is in control: 5
Producer sets value to 4
Consumer thread 1...now is in control: 4
Producer sets value to 3
Consumer thread 1...now is in control: 3
Producer sets value to 2
Consumer thread 1...now is in control: 2
Producer sets value to 1
Consumer thread 1...now is in control: 1
Producer sets value to 0
Consumer thread 1...now is in control: 0
Thread 2 timed out
