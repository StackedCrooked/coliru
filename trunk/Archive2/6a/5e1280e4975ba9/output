main.cpp:33:29: error: use 'template' keyword to treat 'instantiate' as a dependent template name
        typename prev_type::instantiate<func_t>; // <<--- error
                            ^
                            template 
1 error generated.
