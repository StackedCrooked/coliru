+ clang++ -std=c++11 -O3 -Wall -pedantic -Wextra -pthread -Wno-unused-variable -Wno-unused-parameter -Wconversion -stdlib=libc++ main.cpp -lsupc++
+ ./a.out
bar      0x7fff4a188da0
bar      0x7fff4a188d98
---- 1 ----
bar copy 0x7fff4a188d48
bar move 0x2239010
~bar     0x7fff4a188d48
---- 2 ----
~bar     0x2239010
---- 3 ----
~bar     0x7fff4a188d98
~bar     0x7fff4a188da0
