In file included from main.cpp:4:
In file included from /usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/algorithm:62:
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_algo.h:160:17: error: invalid operands to binary expression ('std::reference_wrapper<foo>' and 'const std::reference_wrapper<foo>')
          if (*__first == __val)
              ~~~~~~~~ ^  ~~~~~
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_algo.h:4463:19: note: in instantiation of function template specialization 'std::__find<__gnu_cxx::__normal_iterator<std::reference_wrapper<foo> *, std::vector<std::reference_wrapper<foo>, std::allocator<std::reference_wrapper<foo> > > >, std::reference_wrapper<foo> >' requested here
      return std::__find(__first, __last, __val,
                  ^
main.cpp:20:10: note: in instantiation of function template specialization 'std::find<__gnu_cxx::__normal_iterator<std::reference_wrapper<foo> *, std::vector<std::reference_wrapper<foo>, std::allocator<std::reference_wrapper<foo> > > >, std::reference_wrapper<foo> >' requested here
    std::find(v.begin(), v.end(), std::ref(f)); // looks for operator==
         ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/postypes.h:216:5: note: candidate template ignored: could not match 'fpos' against 'reference_wrapper'
    operator==(const fpos<_StateT>& __lhs, const fpos<_StateT>& __rhs)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_pair.h:214:5: note: candidate template ignored: could not match 'pair' against 'reference_wrapper'
    operator==(const pair<_T1, _T2>& __x, const pair<_T1, _T2>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:291:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:341:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1031:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1037:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:128:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_T1>&, const allocator<_T2>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:133:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_Tp>&, const allocator<_Tp>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2486:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2493:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2507:5: note: candidate template ignored: could not match 'const _CharT *' against 'std::reference_wrapper<foo>'
    operator==(const _CharT* __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2519:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/streambuf_iterator.h:204:5: note: candidate template ignored: could not match 'istreambuf_iterator' against 'reference_wrapper'
    operator==(const istreambuf_iterator<_CharT, _Traits>& __a,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_vector.h:1403:5: note: candidate template ignored: could not match 'vector' against 'reference_wrapper'
    operator==(const vector<_Tp, _Alloc>& __x, const vector<_Tp, _Alloc>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/array:228:5: note: candidate template ignored: could not match 'array' against 'reference_wrapper'
    operator==(const array<_Tp, _Nm>& __one, const array<_Tp, _Nm>& __two)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/tuple:811:5: note: candidate template ignored: could not match 'tuple' against 'reference_wrapper'
    operator==(const tuple<_TElements...>& __t,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2534:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(const function<_Res(_Args...)>& __f, nullptr_t) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2540:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(nullptr_t, const function<_Res(_Args...)>& __f) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/random.tcc:2028:5: note: candidate template ignored: could not match 'normal_distribution' against 'reference_wrapper'
    operator==(const std::normal_distribution<_RealType>& __d1,
    ^
In file included from main.cpp:4:
In file included from /usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/algorithm:62:
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_algo.h:164:17: error: invalid operands to binary expression ('std::reference_wrapper<foo>' and 'const std::reference_wrapper<foo>')
          if (*__first == __val)
              ~~~~~~~~ ^  ~~~~~
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/postypes.h:216:5: note: candidate template ignored: could not match 'fpos' against 'reference_wrapper'
    operator==(const fpos<_StateT>& __lhs, const fpos<_StateT>& __rhs)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_pair.h:214:5: note: candidate template ignored: could not match 'pair' against 'reference_wrapper'
    operator==(const pair<_T1, _T2>& __x, const pair<_T1, _T2>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:291:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:341:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1031:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1037:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:128:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_T1>&, const allocator<_T2>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:133:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_Tp>&, const allocator<_Tp>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2486:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2493:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2507:5: note: candidate template ignored: could not match 'const _CharT *' against 'std::reference_wrapper<foo>'
    operator==(const _CharT* __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2519:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/streambuf_iterator.h:204:5: note: candidate template ignored: could not match 'istreambuf_iterator' against 'reference_wrapper'
    operator==(const istreambuf_iterator<_CharT, _Traits>& __a,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_vector.h:1403:5: note: candidate template ignored: could not match 'vector' against 'reference_wrapper'
    operator==(const vector<_Tp, _Alloc>& __x, const vector<_Tp, _Alloc>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/array:228:5: note: candidate template ignored: could not match 'array' against 'reference_wrapper'
    operator==(const array<_Tp, _Nm>& __one, const array<_Tp, _Nm>& __two)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/tuple:811:5: note: candidate template ignored: could not match 'tuple' against 'reference_wrapper'
    operator==(const tuple<_TElements...>& __t,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2534:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(const function<_Res(_Args...)>& __f, nullptr_t) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2540:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(nullptr_t, const function<_Res(_Args...)>& __f) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/random.tcc:2028:5: note: candidate template ignored: could not match 'normal_distribution' against 'reference_wrapper'
    operator==(const std::normal_distribution<_RealType>& __d1,
    ^
In file included from main.cpp:4:
In file included from /usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/algorithm:62:
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_algo.h:168:17: error: invalid operands to binary expression ('std::reference_wrapper<foo>' and 'const std::reference_wrapper<foo>')
          if (*__first == __val)
              ~~~~~~~~ ^  ~~~~~
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/postypes.h:216:5: note: candidate template ignored: could not match 'fpos' against 'reference_wrapper'
    operator==(const fpos<_StateT>& __lhs, const fpos<_StateT>& __rhs)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_pair.h:214:5: note: candidate template ignored: could not match 'pair' against 'reference_wrapper'
    operator==(const pair<_T1, _T2>& __x, const pair<_T1, _T2>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:291:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:341:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1031:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1037:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:128:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_T1>&, const allocator<_T2>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:133:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_Tp>&, const allocator<_Tp>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2486:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2493:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2507:5: note: candidate template ignored: could not match 'const _CharT *' against 'std::reference_wrapper<foo>'
    operator==(const _CharT* __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2519:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/streambuf_iterator.h:204:5: note: candidate template ignored: could not match 'istreambuf_iterator' against 'reference_wrapper'
    operator==(const istreambuf_iterator<_CharT, _Traits>& __a,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_vector.h:1403:5: note: candidate template ignored: could not match 'vector' against 'reference_wrapper'
    operator==(const vector<_Tp, _Alloc>& __x, const vector<_Tp, _Alloc>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/array:228:5: note: candidate template ignored: could not match 'array' against 'reference_wrapper'
    operator==(const array<_Tp, _Nm>& __one, const array<_Tp, _Nm>& __two)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/tuple:811:5: note: candidate template ignored: could not match 'tuple' against 'reference_wrapper'
    operator==(const tuple<_TElements...>& __t,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2534:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(const function<_Res(_Args...)>& __f, nullptr_t) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2540:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(nullptr_t, const function<_Res(_Args...)>& __f) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/random.tcc:2028:5: note: candidate template ignored: could not match 'normal_distribution' against 'reference_wrapper'
    operator==(const std::normal_distribution<_RealType>& __d1,
    ^
In file included from main.cpp:4:
In file included from /usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/algorithm:62:
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_algo.h:172:17: error: invalid operands to binary expression ('std::reference_wrapper<foo>' and 'const std::reference_wrapper<foo>')
          if (*__first == __val)
              ~~~~~~~~ ^  ~~~~~
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/postypes.h:216:5: note: candidate template ignored: could not match 'fpos' against 'reference_wrapper'
    operator==(const fpos<_StateT>& __lhs, const fpos<_StateT>& __rhs)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_pair.h:214:5: note: candidate template ignored: could not match 'pair' against 'reference_wrapper'
    operator==(const pair<_T1, _T2>& __x, const pair<_T1, _T2>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:291:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:341:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1031:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1037:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:128:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_T1>&, const allocator<_T2>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:133:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_Tp>&, const allocator<_Tp>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2486:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2493:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2507:5: note: candidate template ignored: could not match 'const _CharT *' against 'std::reference_wrapper<foo>'
    operator==(const _CharT* __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2519:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/streambuf_iterator.h:204:5: note: candidate template ignored: could not match 'istreambuf_iterator' against 'reference_wrapper'
    operator==(const istreambuf_iterator<_CharT, _Traits>& __a,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_vector.h:1403:5: note: candidate template ignored: could not match 'vector' against 'reference_wrapper'
    operator==(const vector<_Tp, _Alloc>& __x, const vector<_Tp, _Alloc>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/array:228:5: note: candidate template ignored: could not match 'array' against 'reference_wrapper'
    operator==(const array<_Tp, _Nm>& __one, const array<_Tp, _Nm>& __two)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/tuple:811:5: note: candidate template ignored: could not match 'tuple' against 'reference_wrapper'
    operator==(const tuple<_TElements...>& __t,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2534:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(const function<_Res(_Args...)>& __f, nullptr_t) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2540:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(nullptr_t, const function<_Res(_Args...)>& __f) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/random.tcc:2028:5: note: candidate template ignored: could not match 'normal_distribution' against 'reference_wrapper'
    operator==(const std::normal_distribution<_RealType>& __d1,
    ^
In file included from main.cpp:4:
In file included from /usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/algorithm:62:
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_algo.h:180:17: error: invalid operands to binary expression ('std::reference_wrapper<foo>' and 'const std::reference_wrapper<foo>')
          if (*__first == __val)
              ~~~~~~~~ ^  ~~~~~
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/postypes.h:216:5: note: candidate template ignored: could not match 'fpos' against 'reference_wrapper'
    operator==(const fpos<_StateT>& __lhs, const fpos<_StateT>& __rhs)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_pair.h:214:5: note: candidate template ignored: could not match 'pair' against 'reference_wrapper'
    operator==(const pair<_T1, _T2>& __x, const pair<_T1, _T2>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:291:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:341:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1031:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1037:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:128:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_T1>&, const allocator<_T2>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:133:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_Tp>&, const allocator<_Tp>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2486:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2493:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2507:5: note: candidate template ignored: could not match 'const _CharT *' against 'std::reference_wrapper<foo>'
    operator==(const _CharT* __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2519:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/streambuf_iterator.h:204:5: note: candidate template ignored: could not match 'istreambuf_iterator' against 'reference_wrapper'
    operator==(const istreambuf_iterator<_CharT, _Traits>& __a,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_vector.h:1403:5: note: candidate template ignored: could not match 'vector' against 'reference_wrapper'
    operator==(const vector<_Tp, _Alloc>& __x, const vector<_Tp, _Alloc>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/array:228:5: note: candidate template ignored: could not match 'array' against 'reference_wrapper'
    operator==(const array<_Tp, _Nm>& __one, const array<_Tp, _Nm>& __two)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/tuple:811:5: note: candidate template ignored: could not match 'tuple' against 'reference_wrapper'
    operator==(const tuple<_TElements...>& __t,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2534:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(const function<_Res(_Args...)>& __f, nullptr_t) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2540:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(nullptr_t, const function<_Res(_Args...)>& __f) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/random.tcc:2028:5: note: candidate template ignored: could not match 'normal_distribution' against 'reference_wrapper'
    operator==(const std::normal_distribution<_RealType>& __d1,
    ^
In file included from main.cpp:4:
In file included from /usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/algorithm:62:
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_algo.h:184:17: error: invalid operands to binary expression ('std::reference_wrapper<foo>' and 'const std::reference_wrapper<foo>')
          if (*__first == __val)
              ~~~~~~~~ ^  ~~~~~
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/postypes.h:216:5: note: candidate template ignored: could not match 'fpos' against 'reference_wrapper'
    operator==(const fpos<_StateT>& __lhs, const fpos<_StateT>& __rhs)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_pair.h:214:5: note: candidate template ignored: could not match 'pair' against 'reference_wrapper'
    operator==(const pair<_T1, _T2>& __x, const pair<_T1, _T2>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:291:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:341:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1031:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1037:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:128:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_T1>&, const allocator<_T2>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:133:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_Tp>&, const allocator<_Tp>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2486:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2493:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2507:5: note: candidate template ignored: could not match 'const _CharT *' against 'std::reference_wrapper<foo>'
    operator==(const _CharT* __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2519:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/streambuf_iterator.h:204:5: note: candidate template ignored: could not match 'istreambuf_iterator' against 'reference_wrapper'
    operator==(const istreambuf_iterator<_CharT, _Traits>& __a,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_vector.h:1403:5: note: candidate template ignored: could not match 'vector' against 'reference_wrapper'
    operator==(const vector<_Tp, _Alloc>& __x, const vector<_Tp, _Alloc>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/array:228:5: note: candidate template ignored: could not match 'array' against 'reference_wrapper'
    operator==(const array<_Tp, _Nm>& __one, const array<_Tp, _Nm>& __two)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/tuple:811:5: note: candidate template ignored: could not match 'tuple' against 'reference_wrapper'
    operator==(const tuple<_TElements...>& __t,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2534:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(const function<_Res(_Args...)>& __f, nullptr_t) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2540:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(nullptr_t, const function<_Res(_Args...)>& __f) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/random.tcc:2028:5: note: candidate template ignored: could not match 'normal_distribution' against 'reference_wrapper'
    operator==(const std::normal_distribution<_RealType>& __d1,
    ^
In file included from main.cpp:4:
In file included from /usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/algorithm:62:
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_algo.h:188:17: error: invalid operands to binary expression ('std::reference_wrapper<foo>' and 'const std::reference_wrapper<foo>')
          if (*__first == __val)
              ~~~~~~~~ ^  ~~~~~
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/postypes.h:216:5: note: candidate template ignored: could not match 'fpos' against 'reference_wrapper'
    operator==(const fpos<_StateT>& __lhs, const fpos<_StateT>& __rhs)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_pair.h:214:5: note: candidate template ignored: could not match 'pair' against 'reference_wrapper'
    operator==(const pair<_T1, _T2>& __x, const pair<_T1, _T2>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:291:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:341:5: note: candidate template ignored: could not match 'reverse_iterator' against 'reference_wrapper'
    operator==(const reverse_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1031:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_IteratorL>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_iterator.h:1037:5: note: candidate template ignored: could not match 'move_iterator' against 'reference_wrapper'
    operator==(const move_iterator<_Iterator>& __x,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:128:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_T1>&, const allocator<_T2>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/allocator.h:133:5: note: candidate template ignored: could not match 'allocator' against 'reference_wrapper'
    operator==(const allocator<_Tp>&, const allocator<_Tp>&)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2486:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2493:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2507:5: note: candidate template ignored: could not match 'const _CharT *' against 'std::reference_wrapper<foo>'
    operator==(const _CharT* __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/basic_string.h:2519:5: note: candidate template ignored: could not match 'basic_string' against 'reference_wrapper'
    operator==(const basic_string<_CharT, _Traits, _Alloc>& __lhs,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/streambuf_iterator.h:204:5: note: candidate template ignored: could not match 'istreambuf_iterator' against 'reference_wrapper'
    operator==(const istreambuf_iterator<_CharT, _Traits>& __a,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/stl_vector.h:1403:5: note: candidate template ignored: could not match 'vector' against 'reference_wrapper'
    operator==(const vector<_Tp, _Alloc>& __x, const vector<_Tp, _Alloc>& __y)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/array:228:5: note: candidate template ignored: could not match 'array' against 'reference_wrapper'
    operator==(const array<_Tp, _Nm>& __one, const array<_Tp, _Nm>& __two)
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/tuple:811:5: note: candidate template ignored: could not match 'tuple' against 'reference_wrapper'
    operator==(const tuple<_TElements...>& __t,
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2534:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(const function<_Res(_Args...)>& __f, nullptr_t) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/functional:2540:5: note: candidate template ignored: could not match 'function' against 'reference_wrapper'
    operator==(nullptr_t, const function<_Res(_Args...)>& __f) noexcept
    ^
/usr/lib/gcc/x86_64-linux-gnu/4.8/../../../../include/c++/4.8/bits/random.tcc:2028:5: note: candidate template ignored: could not match 'normal_distribution' against 'reference_wrapper'
    operator==(const std::normal_distribution<_RealType>& __d1,
    ^
7 errors generated.
