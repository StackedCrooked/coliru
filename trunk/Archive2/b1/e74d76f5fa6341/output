+ g++-4.8 -std=c++11 -O2 -Wall -pedantic -pthread main.cpp
+ ./a.out
database_thread_write: 0 ... wrote: 1
database_thread_read: 2 ... read: 1
database_thread_read: 1 ... read: 1
database_thread_read: 3 ... read: 1
database_thread_write: 0 ... wrote: 2
database_thread_read: 1 ... read: 2
database_thread_read: 3 ... read: 2
database_thread_read: 2 ... read: 2
database_thread_write: 0 ... wrote: 3
database_thread_read: 1 ... read: 3
database_thread_read: 3 ... read: 3
database_thread_read: 2 ... read: 3
database_thread_write: 0 ... wrote: 4
database_thread_read: 1 ... read: 4
database_thread_read: 3 ... read: 4
database_thread_read: 2 ... read: 4
database_thread_write: 0 ... wrote: 5
database_thread_read: 1 ... read: 5
database_thread_read: 3 ... read: 5
database_thread_read: 2 ... read: 5
database_thread_write: 0 ... wrote: 6
database_thread_read: 1 ... read: 6
database_thread_read: 3 ... read: 6
database_thread_read: 2 ... read: 6
database_thread_write: 0 ... wrote: 7
database_thread_read: 1 ... read: 7
database_thread_read: 3 ... read: 7
database_thread_read: 2 ... read: 7
database_thread_write: 0 ... wrote: 8
database_thread_read: 1 ... read: 8
database_thread_read: 3 ... read: 8
database_thread_read: 2 ... read: 8
database_thread_write: 0 ... wrote: 9
database_thread_read: 2 ... read: 9
database_thread_read: 1 ... read: 9
database_thread_read: 3 ... read: 9
database_thread_write: 0 ... wrote: 10
database_thread_read: 1 ... read: 10
database_thread_read: 2 ... read: 10
database_thread_read: 3 ... read: 10

Threads successfully completed...
