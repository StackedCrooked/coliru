+ clang++ -std=c++14 -O3 -Wall -pedantic -Wextra -pthread -Wno-unused-variable -Wno-unused-parameter -Wconversion -fno-elide-constructors -stdlib=libc++ main.cpp -lsupc++
+ ./a.out
bar      0x7fffab77a508
bar      0x7fffab77a500
---- 1 ----
---- 2 ----
---- 3 ----
~bar     0x7fffab77a500
~bar     0x7fffab77a508
