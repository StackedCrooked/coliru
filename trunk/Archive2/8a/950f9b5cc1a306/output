+ g++-4.8 -std=c++11 -O2 -Wall -pedantic main.cpp
+ ./a.out
try starts
foo starts
bar starts
caught any exception in foo
caught X1 in main
