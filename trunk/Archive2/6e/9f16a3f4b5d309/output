main.cpp: In lambda function:
main.cpp:19:33: error: 'lk' is not captured
     cv.wait(lk, []{std::cout << lk.owns_lock() << ready << std::endl; return ready;});
                                 ^
