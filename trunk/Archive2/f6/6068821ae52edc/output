Code:

def foo():
    a1

    a2
    if 1:
        b2
        b3
    else:
        b4
        while 4:
            e1
    a2
    a3
    while 2: c1
    a3

Succeeded: ( ( ( ( "" ) ) ) ( ( ( "d" "e" "f" " " "foo" "" ( ( ( ( ( ( ( "a1" ) ) ) ( ( ( "a2" ) ) ) ( ( ( "i" "f" " " "1" ( ( ( ( ( ( ( "b2" ) ) ) ( ( ( "b3" ) ) ) ) ) ) ) "e" "l" "s" "e" ( ( ( ( ( ( ( "b4" ) ) ) ( ( ( "w" "h" "i" "l" "e" " " "4" ( ( ( ( ( ( ( "e1" ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ) ( ( ( "a2" ) ) ) ( ( ( "a3" ) ) ) ( ( ( "w" "h" "i" "l" "e" " " "2" ( ( " " ( ( "c1" ) ) ) ) ) ) ) ( ( ( "a3" ) ) ) ) ) ) ) ) ) ) ) 
________________________________________________________________________________
Code:

a1
while 2:
    b2
    b3
    while 3:
        c3
  while 1: b4

Tail={  while 1: b4
}
________________________________________________________________________________
