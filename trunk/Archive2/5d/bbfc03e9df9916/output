+ g++ -std=c++1y -O2 -Wsystem-headers -Wdelete-non-virtual-dtor -pthread main.cpp
In file included from /usr/local/include/c++/4.9.0/memory:81:0,
                 from main.cpp:2:
/usr/local/include/c++/4.9.0/bits/unique_ptr.h: In instantiation of 'void std::default_delete<_Tp>::operator()(_Tp*) const [with _Tp = Derived]':
/usr/local/include/c++/4.9.0/bits/unique_ptr.h:236:16:   required from 'std::unique_ptr<_Tp, _Dp>::~unique_ptr() [with _Tp = Derived; _Dp = std::default_delete<Derived>]'
main.cpp:15:54:   required from here
/usr/local/include/c++/4.9.0/bits/unique_ptr.h:76:2: warning: deleting object of polymorphic class type 'Derived' which has non-virtual destructor might cause undefined behaviour [-Wdelete-non-virtual-dtor]
  delete __ptr;
  ^
/usr/local/include/c++/4.9.0/bits/unique_ptr.h: In instantiation of 'void std::default_delete<_Tp>::operator()(_Tp*) const [with _Tp = Base]':
/usr/local/include/c++/4.9.0/bits/unique_ptr.h:236:16:   required from 'std::unique_ptr<_Tp, _Dp>::~unique_ptr() [with _Tp = Base; _Dp = std::default_delete<Base>]'
main.cpp:15:54:   required from here
/usr/local/include/c++/4.9.0/bits/unique_ptr.h:76:2: warning: deleting object of polymorphic class type 'Base' which has non-virtual destructor might cause undefined behaviour [-Wdelete-non-virtual-dtor]
+ ./a.out
derived
+ clang++ -std=c++1y -O2 -Wsystem-headers -Wdelete-non-virtual-dtor -pthread main.cpp
In file included from main.cpp:1:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/functional:54:
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/new:129:18: warning: unknown attribute '__externally_visible__' ignored [-Wunknown-attributes]
  __attribute__((__externally_visible__));
                 ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/new:131:18: warning: unknown attribute '__externally_visible__' ignored [-Wunknown-attributes]
  __attribute__((__externally_visible__));
                 ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/new:133:18: warning: unknown attribute '__externally_visible__' ignored [-Wunknown-attributes]
  __attribute__((__externally_visible__));
                 ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/new:135:18: warning: unknown attribute '__externally_visible__' ignored [-Wunknown-attributes]
  __attribute__((__externally_visible__));
                 ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/new:137:18: warning: unknown attribute '__externally_visible__' ignored [-Wunknown-attributes]
  __attribute__((__externally_visible__));
                 ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/new:139:18: warning: unknown attribute '__externally_visible__' ignored [-Wunknown-attributes]
  __attribute__((__externally_visible__));
                 ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/new:141:18: warning: unknown attribute '__externally_visible__' ignored [-Wunknown-attributes]
  __attribute__((__externally_visible__));
                 ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/new:143:18: warning: unknown attribute '__externally_visible__' ignored [-Wunknown-attributes]
  __attribute__((__externally_visible__));
                 ^
In file included from main.cpp:1:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/functional:55:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/tuple:39:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/array:38:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/stdexcept:39:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/string:40:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/char_traits.h:39:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/stl_algobase.h:61:
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/cpp_type_traits.h:119:12: warning: keyword '__is_void' will be made available as an identifier for the remainder of the translation unit [-Wkeyword-compat]
    struct __is_void
           ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/cpp_type_traits.h:290:12: warning: keyword '__is_pointer' will be made available as an identifier for the remainder of the translation unit [-Wkeyword-compat]
    struct __is_pointer
           ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/cpp_type_traits.h:325:12: warning: keyword '__is_arithmetic' will be made available as an identifier for the remainder of the translation unit [-Wkeyword-compat]
    struct __is_arithmetic
           ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/cpp_type_traits.h:333:12: warning: keyword '__is_scalar' will be made available as an identifier for the remainder of the translation unit [-Wkeyword-compat]
    struct __is_scalar
           ^
In file included from main.cpp:1:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/functional:55:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/tuple:39:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/array:38:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/stdexcept:39:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/string:40:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/char_traits.h:39:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/stl_algobase.h:63:
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/ext/numeric_traits.h:63:25: warning: keyword '__is_signed' will be made available as an identifier for the remainder of the translation unit [-Wkeyword-compat]
      static const bool __is_signed = __glibcxx_signed(_Value);
                        ^
In file included from main.cpp:1:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/functional:55:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/tuple:39:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/array:38:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/stdexcept:39:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/string:52:
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/basic_string.h:3133:5: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    operator""s(const char* __str, size_t __len)
    ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/basic_string.h:3138:5: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    operator""s(const wchar_t* __str, size_t __len)
    ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/basic_string.h:3144:5: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    operator""s(const char16_t* __str, size_t __len)
    ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/basic_string.h:3148:5: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    operator""s(const char32_t* __str, size_t __len)
    ^
In file included from main.cpp:1:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/functional:55:
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/tuple:821:39: warning: '&&' within '||' [-Wlogical-op-parentheses]
                || !(get<__i>(__u) < get<__i>(__t)) &&
                ~~ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/tuple:821:39: note: place parentheses around the '&&' expression to silence this warning
In file included from main.cpp:2:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/memory:81:
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/unique_ptr.h:76:2: warning: delete called on 'Derived' that has virtual functions but non-virtual destructor [-Wdelete-non-virtual-dtor]
        delete __ptr;
        ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/unique_ptr.h:236:4: note: in instantiation of member function 'std::default_delete<Derived>::operator()' requested here
          get_deleter()(__ptr);
          ^
main.cpp:15:28: note: in instantiation of member function 'std::unique_ptr<Derived, std::default_delete<Derived> >::~unique_ptr' requested here
std::unique_ptr<Base> sb = std::make_unique<Derived>();
                           ^
In file included from main.cpp:2:
In file included from /usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/memory:81:
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/unique_ptr.h:76:2: warning: delete called on 'Base' that has virtual functions but non-virtual destructor [-Wdelete-non-virtual-dtor]
        delete __ptr;
        ^
/usr/local/bin/../lib/gcc/x86_64-unknown-linux-gnu/4.9.0/../../../../include/c++/4.9.0/bits/unique_ptr.h:236:4: note: in instantiation of member function 'std::default_delete<Base>::operator()' requested here
          get_deleter()(__ptr);
          ^
main.cpp:15:28: note: in instantiation of member function 'std::unique_ptr<Base, std::default_delete<Base> >::~unique_ptr' requested here
std::unique_ptr<Base> sb = std::make_unique<Derived>();
                           ^
20 warnings generated.
+ ./a.out
derived
+ clang++ -stdlib=libc++ -std=c++1y -O2 -Wsystem-headers -Wdelete-non-virtual-dtor -pthread main.cpp
In file included from main.cpp:3:
In file included from /usr/include/c++/v1/iostream:38:
In file included from /usr/include/c++/v1/ios:216:
In file included from /usr/include/c++/v1/__locale:15:
/usr/include/c++/v1/string:4267:24: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    basic_string<char> operator "" s( const char *__str, size_t __len )
                       ^
/usr/include/c++/v1/string:4273:27: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    basic_string<wchar_t> operator "" s( const wchar_t *__str, size_t __len )
                          ^
/usr/include/c++/v1/string:4279:28: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    basic_string<char16_t> operator "" s( const char16_t *__str, size_t __len )
                           ^
/usr/include/c++/v1/string:4285:28: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    basic_string<char32_t> operator "" s( const char32_t *__str, size_t __len )
                           ^
In file included from main.cpp:3:
In file included from /usr/include/c++/v1/iostream:38:
In file included from /usr/include/c++/v1/ios:216:
In file included from /usr/include/c++/v1/__locale:18:
In file included from /usr/include/c++/v1/mutex:176:
In file included from /usr/include/c++/v1/__mutex_base:15:
/usr/include/c++/v1/chrono:952:29: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::hours operator"" h(unsigned long long __h)
                            ^
/usr/include/c++/v1/chrono:957:60: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::duration<long double, ratio<3600,1>> operator"" h(long double __h)
                                                           ^
/usr/include/c++/v1/chrono:963:31: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::minutes operator"" min(unsigned long long __m)
                              ^
/usr/include/c++/v1/chrono:968:58: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::duration<long double, ratio<60,1>> operator"" min(long double __m)
                                                         ^
/usr/include/c++/v1/chrono:974:31: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::seconds operator"" s(unsigned long long __s)
                              ^
/usr/include/c++/v1/chrono:979:45: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::duration<long double> operator"" s(long double __s)
                                            ^
/usr/include/c++/v1/chrono:985:36: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::milliseconds operator"" ms(unsigned long long __ms)
                                   ^
/usr/include/c++/v1/chrono:990:52: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::duration<long double, milli> operator"" ms(long double __ms)
                                                   ^
/usr/include/c++/v1/chrono:996:36: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::microseconds operator"" us(unsigned long long __us)
                                   ^
/usr/include/c++/v1/chrono:1001:52: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::duration<long double, micro> operator"" us(long double __us)
                                                   ^
/usr/include/c++/v1/chrono:1007:35: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::nanoseconds operator"" ns(unsigned long long __ns)
                                  ^
/usr/include/c++/v1/chrono:1012:51: warning: user-defined literal suffixes not starting with '_' are reserved [-Wuser-defined-literals]
    constexpr chrono::duration<long double, nano> operator"" ns(long double __ns)
                                                  ^
In file included from main.cpp:1:
In file included from /usr/include/c++/v1/functional:477:
/usr/include/c++/v1/memory:2431:13: warning: delete called on 'Derived' that has virtual functions but non-virtual destructor [-Wdelete-non-virtual-dtor]
            delete __ptr;
            ^
/usr/include/c++/v1/memory:2630:13: note: in instantiation of member function 'std::__1::default_delete<Derived>::operator()' requested here
            __ptr_.second()(__tmp);
            ^
/usr/include/c++/v1/memory:2598:46: note: in instantiation of member function 'std::__1::unique_ptr<Derived, std::__1::default_delete<Derived> >::reset' requested here
    _LIBCPP_INLINE_VISIBILITY ~unique_ptr() {reset();}
                                             ^
main.cpp:15:28: note: in instantiation of member function 'std::__1::unique_ptr<Derived, std::__1::default_delete<Derived> >::~unique_ptr' requested here
std::unique_ptr<Base> sb = std::make_unique<Derived>();
                           ^
In file included from main.cpp:1:
In file included from /usr/include/c++/v1/functional:477:
/usr/include/c++/v1/memory:2431:13: warning: delete called on 'Base' that has virtual functions but non-virtual destructor [-Wdelete-non-virtual-dtor]
            delete __ptr;
            ^
/usr/include/c++/v1/memory:2630:13: note: in instantiation of member function 'std::__1::default_delete<Base>::operator()' requested here
            __ptr_.second()(__tmp);
            ^
/usr/include/c++/v1/memory:2598:46: note: in instantiation of member function 'std::__1::unique_ptr<Base, std::__1::default_delete<Base> >::reset' requested here
    _LIBCPP_INLINE_VISIBILITY ~unique_ptr() {reset();}
                                             ^
main.cpp:15:28: note: in instantiation of member function 'std::__1::unique_ptr<Base, std::__1::default_delete<Base> >::~unique_ptr' requested here
std::unique_ptr<Base> sb = std::make_unique<Derived>();
                           ^
18 warnings generated.
+ ./a.out
derived
