a.out: /usr/local/include/boost/multi_index_container.hpp:948: void boost::multi_index::multi_index_container<Value, IndexSpecifierList, Allocator>::check_invariant_() const [with Value = boost::flyweights::detail::refcounted_value<boost::flyweights::detail::default_value_policy<poly_holder<Base> >::rep_type, poly_holder<Base> >; IndexSpecifierList = boost::flyweights::hashed_factory_class<boost::flyweights::detail::refcounted_value<boost::flyweights::detail::default_value_policy<poly_holder<Base> >::rep_type, poly_holder<Base> >, poly_holder<Base>, mpl_::na, mpl_::na, mpl_::na>::index_list; Allocator = std::allocator<boost::flyweights::detail::refcounted_value<boost::flyweights::detail::default_value_policy<poly_holder<Base> >::rep_type, poly_holder<Base> > >]: Assertion `invariant_()' failed.
Now I'll crash:
bash: line 7: 29529 Aborted                 (core dumped) ./a.out
