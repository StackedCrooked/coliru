main.cpp: In lambda function:
main.cpp:18:16: error: use of ‘terminal’ before deduction of ‘auto’
         return terminal(func(term)); // >---------+
                ^
