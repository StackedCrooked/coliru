+ g++-4.9 -std=c++11 -O3 -Wall -pedantic -Wextra -pthread -Wno-unused-variable -Wno-unused-parameter -Wconversion main.cpp
+ ./a.out
bar      0x7fffbcc2156c
bar      0x7fffbcc2156d
---- 1 ----
bar copy 0x7fffbcc21580
bar move 0x162a038
~bar     0x7fffbcc21580
---- 2 ----
~bar     0x162a038
---- 3 ----
~bar     0x7fffbcc2156d
~bar     0x7fffbcc2156c
