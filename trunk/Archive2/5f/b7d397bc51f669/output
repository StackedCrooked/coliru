+ g++-4.8 -std=c++11 -O2 -Wall -pedantic -pthread main.cpp
+ ./a.out
 bf int main.cpp
Line 1:-1 '#include <string>'
Line 2:-1 ''
Line 3:-1 'using namespace std;'
Line 4:-1 ''
Line 5:0 'int BruteForce(const string& line, const string& pattern) {'
Line 6:-1 '    const size_t n = line.length();'
Line 7:-1 '    const size_t m = pattern.length();'
Line 8:-1 ''
Line 9:-1 '    if (n<m) return -1;'
Line 10:-1 ''
Line 11:-1 '    for(size_t i = 0u; i <= (n - m); i++) {'
Line 12:-1 '        for(size_t j=0; j < m  && (line[i + j] == pattern[j]); ++j) {'
Line 13:-1 '            if(j == m-1) {'
Line 14:-1 '                return i;'
Line 15:-1 '            }'
Line 16:-1 '        }'
Line 17:-1 '    }'
Line 18:-1 '    return -1;'
Line 19:-1 '}'
Line 20:-1 ''
Line 21:-1 '#include <iostream>'
Line 22:-1 '#include <fstream>'
Line 23:-1 '#include <sstream>'
Line 24:-1 ''
Line 25:0 'int main() {'
Line 26:-1 '    string text, algo_type, pattern, fname, line;'
Line 27:-1 '    getline(cin ,text);'
Line 28:-1 '    istringstream iss(text);'
Line 29:-1 '    if(iss >>  algo_type  >>  pattern  >> fname) {'
Line 30:-1 '        cout << " " << algo_type  << " " << pattern <<  " " <<fname << "\n";'
Line 31:-1 '    }'
Line 32:-1 ''
Line 33:4 '    int i = 1;'
Line 34:-1 '    ifstream ifs;'
Line 35:-1 '    ifs.open(fname.c_str());'
Line 36:-1 '    while(getline(ifs, line) && fname != "") {'
Line 37:-1 '        if(algo_type == "bf") {'
Line 38:-1 '            cout << "Line " << i++ << ":" << BruteForce(line,pattern) << " '" << line << "'" << endl;'
Line 39:-1 '        }'
Line 40:-1 '    }'
Line 41:-1 '    return 0;'
Line 42:-1 '}'
