+ g++-4.8 -std=c++11 -O2 -Wall -Wextra -pedantic-errors main.cpp
+ ./a.out
#include <iostream>
#include <fstream>
#include <string>

void foo( const std::string& path_to_file )
{
   std::ifstream file(path_to_file) ;
   std::streamoff cnt = 0 ;
   char ch ;
   while( file.get(ch) ) if( ch == '\n' ) ++cnt ;

-----------------------------
*** 28 ***

-----------------------------
   std::cout << "*** " << cnt << " ***\n" ;
}

int main()
{
    std::string path_to_file = __FILE__ ;
    std::ifstream file(path_to_file) ;
    std::string line ;

    for( int i = 0 ; i < 10 && std::getline(file,line) ; ++i )
        std::cout << line << '\n' ;

    std::cout << "\n-----------------------------\n" ;
    foo(path_to_file) ;
    std::cout << "\n-----------------------------\n" ;

    while( std::getline(file,line) ) std::cout << line << '\n' ;
}
