+ g++-4.8 -std=c++11 -O2 -Wall -Wextra -pedantic-errors main.cpp
main.cpp: In function ‘int main()’:
main.cpp:19:14: warning: unused variable ‘this_is_not_a_comment’ [-Wunused-variable]
         char this_is_not_a_comment[] = "// this is not // a comment" ;
              ^
+ ./a.out
 1. #include <string>
 2. #include <iostream>
 3. #include <fstream>
 4. #include <iomanip>
 5. 
 6. int main()
 7. {
 8.     std::ifstream this_file(__FILE__) ;  
 9. 
10.     std::string line ;
11.     int line_number = 0 ;
12. 
13.     
14.     
15.     while( std::getline( this_file, line ) ) 
16.     {
17.         
18.         
19.         char this_is_not_a_comment[] = "
20.         
21.         
22. 
23.         
24.         
25.         auto pos = line.find( "
26.         if( pos != std::string::npos ) 
27.         {
28.             
29.             
30.             line = line.substr( 0, pos ) ;
31.         }
32. 
33.         
34.         std::cout << std::setw(2) << ++line_number << ". " << line << '\n' ;
35.     }
36. }
