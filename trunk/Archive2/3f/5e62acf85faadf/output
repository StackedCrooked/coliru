+ g++ -std=c++14 -O2 -Wall -pedantic main.cpp
+ ./a.out
 callback succeeded: void sender_test::book_complete() called 
 callback ignored: void optional_mem_call_with_param(C&, Args&& ...) [with C = sender_test; Args = {int}; typename std::enable_if<(! has_member_with_param<T>::value), int>::type <anonymous> = 0] called 
 callback ignored: void optional_mem_call_book_complete(C&, Args&& ...) [with C = sender; Args = {}; typename std::enable_if<(! has_member_book_complete<T>::value), int>::type <anonymous> = 0] called 
 callback succeeded: void sender::with_param(int) called with 3
