/tmp/cc2NKiUU.o: In function `main':
/tmp/main.cpp:72: undefined reference to `foo(rank_detail::first&&)'
collect2: error: ld returned 1 exit status
