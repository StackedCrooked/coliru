In file included from main.cpp:1:0:
/usr/include/c++/4.7/type_traits: In instantiation of ‘struct std::_Result_of_impl<false, false, main()::<lambda(int)>&>’:
/usr/include/c++/4.7/type_traits:1857:12:   required from ‘class std::result_of<main()::<lambda(int)>&()>’
main.cpp:7:12:   required from ‘struct my::result_of<main()::<lambda(int)>&()>’
main.cpp:11:39:   required by substitution of ‘template<class Func> typename my::result_of<Func&()>::type foo(Func) [with Func = main()::<lambda(int)>]’
main.cpp:20:19:   required from here
/usr/include/c++/4.7/type_traits:1834:9: error: no match for call to ‘(main()::<lambda(int)>) ()’
main.cpp:20:10: note: candidates are:
In file included from main.cpp:1:0:
/usr/include/c++/4.7/type_traits:1834:9: note: void (*)(int) <conversion>
/usr/include/c++/4.7/type_traits:1834:9: note:   candidate expects 2 arguments, 1 provided
main.cpp:20:15: note: main()::<lambda(int)>
main.cpp:20:15: note:   candidate expects 1 argument, 0 provided
