[lock]str->push_back('a')
str->push_back('b')
str->push_back('c')
[unlock]std::cout << string << std::endl
[lock]abc[unlock]
string->clear()
[lock][unlock]